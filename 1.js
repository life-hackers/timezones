!function(t){function e(e){for(var o,s,a=e[0],c=e[1],u=e[2],f=0,p=[];f<a.length;f++)s=a[f],i[s]&&p.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(l&&l(e);p.length;)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={1:0};var r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/timezones";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([50,0]),n()}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(48);Object.defineProperty(e,"Tag",{enumerable:!0,get:function(){return o.Tag}});var i=n(27);Object.defineProperty(e,"Store",{enumerable:!0,get:function(){return i.Store}})},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var o,i=n(0),r=n(18),s=(o=r)&&o.__esModule?o:{default:o};var a=new(n(17).WatchList);e.App=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s.default));return n.addTimezone=o.addTimezone.bind(n),n.listEvent=o.listEventHandler.bind(n),o.updateTimes(n),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.listEventHandler=function(t,e){"remove"===t&&(a.remove(e),this.update())},e.prototype.updateTimes=function(t){t.times=a.times,t.update()},e.prototype.addTimezone=function(t,e){a.add(e),this.update()},e}(i.Tag)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeList=void 0;var o,i=n(0),r=n(19),s=(o=r)&&o.__esModule?o:{default:o},a=n(3);var c="now";e.TimeList=function(t){function e(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s.default));return n.list=o.list||[],n.itemEvent=i.itemEvent.bind(n),n.on("update",i.update.bind(n)),i.renewAt(n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.itemEvent=function(t,e){this.opts.onEvent(t,e),"at-changed"===t&&(c=e,this.at="now"===c?a.DateTime.local():e,this.update())},e.prototype.update=function(){this.list=this.opts.list||[]},e.prototype.renewAt=function(t){var e=this;"now"===c&&(t.at=a.DateTime.local()),t.update(),setTimeout(function(){e.renewAt(t)},5e3)},e}(i.Tag)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeItem=void 0;var o,i=n(0),r=n(20),s=(o=r)&&o.__esModule?o:{default:o};e.TimeItem=function(t){function e(n,o){var i=o.time;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s.default));return r.time=i,n.removable=r.removable.bind(n),n.on("updated",function(){var t=this;this.refs.ctrl&&(this.refs.ctrl.onx("dismiss",function(){t.showCtrl=!1,t.update()}),this.refs.ctrl.onx("remove",function(e){t.opts.onEvent("remove",e)}),this.refs.ctrl.onx("at-changed",function(e){t.opts.onEvent("at-changed",e)}))}.bind(n)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.removable=function(){this.showCtrl=!0},e}(i.Tag)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemView=void 0;var o,i=n(0),r=n(21),s=(o=r)&&o.__esModule?o:{default:o};e.ItemView=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s.default));return o.update.bind(n)(),n.on("update",o.update.bind(n)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){var t=this.opts.time,e=this.opts.at.setZone(t.zone);this.str={date:e.toISODate(),time:e.toFormat("HH:mm:ss"),z:e.toFormat("ZZZ"),zone:e.toFormat("z")}},e}(i.Tag)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemCtrl=void 0;var o,i=n(0),r=n(22),s=(o=r)&&o.__esModule?o:{default:o},a=n(3);var c={date:"yyyy-MM-dd'T'HH:mm"},u={};e.ItemCtrl=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u[n._riot_id]={};var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s.default));return n.onx=function(t,e){u[this._riot_id][t]=e}.bind(n),n.con=function(t){return u[this._riot_id][t]}.bind(n),n.remove=o.remove.bind(n),n.dismiss=o.dismiss.bind(n),n.changeDate=function(t){var e=t.target.value,n=a.DateTime.fromFormat(e,c.date);this.con("at-changed")(n.isValid?n:"now")}.bind(n),n.on("before-mount",function(){var t=this.opts,e=t.at,n=t.time.zone;e=e.setZone(n),this.at=e,this.datetime=e.toFormat(c.date)}.bind(n)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.remove=function(){var t=this.opts.time;this.con("remove")(t)},e.prototype.dismiss=function(){this.con("dismiss")()},e}(i.Tag)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Input=void 0;var o=n(0),i=a(n(25)),r=a(n(24)),s=n(23);function a(t){return t&&t.__esModule?t:{default:t}}e.Input=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i.default));return o.loadTimezones(n),n.onKeyup=o.onKeyup.bind(n),n.onSelect=o.reset.bind(n),n.on("update",o.update.bind(n)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.reset=function(){var t=this.opts.onSelect;"function"==typeof t&&t.apply(void 0,arguments),this.search=null,this.update()},e.prototype.update=function(){this.search&&(this.ftzs=this.fuz.search(this.search).slice(0,10))},e.prototype.onKeyup=function(t){this.search=t.target.value,this.update()},e.prototype.loadTimezones=function(t){var e=this;this.localTimezones().catch(function(){return e.fetchTimezones().then(function(t){return o.Store.set("timezones",t),t})}).then(function(e){t.tzs=e,t.fuz=new r.default(e,s.fuseOpts)})},e.prototype.localTimezones=function(){return new Promise(function(t,e){var n=o.Store.get("timezones");n?t(n):e([])})},e.prototype.fetchTimezones=function(){return fetch("https://raw.githubusercontent.com/speed-of-light/timezones.json/master/timezones.json").then(function(t){return t.json()})},e}(o.Tag)},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=void 0;var o,i=n(0),r=n(26),s=(o=r)&&o.__esModule?o:{default:o};e.List=function(t){function e(n,o){var i=o.list;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s.default));return n.list=i||[],n.chopUtc=r.chopUtc.bind(n),n.itemClick=r.click.bind(n),n.on("update",r.update.bind(n)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.click=function(t,e){var n=this;return function(){n.opts.onSelect(t,e)}},e.prototype.chopUtc=function(t){return t.split(") ")[1]},e.prototype.update=function(){this.list=this.opts.list},e}(i.Tag)},function(t,e,n){"use strict";n.r(e);var o=n(12);n(1).tag2("timezones-list",'<div each="{tz, i in list}"> <div class="{css.item}" each="{tu in tz.utc}" onclick="{itemClick(tz, tu)}"> {chopUtc(tz.text)} ({tz.abbr}) <div>{tu}</div> </div> </div> <div if="{list.length === 0}">Not found</div>',"",'class="{css.host}"',function(t){new o.List(this,t)});var i=n(10);n(1).tag2("timezones-input",'<input class="{css.input}" type="text" riot-value="{search}" keyup="{onKeyup}" placeholder="Add timezone"> <timezones-list list="{ftzs}" if="{search}" on-select="{onSelect}"></timezones-list>',"",'class="{css.host}"',function(t){new i.Input(this,t)});var r=n(9);n(1).tag2("item-ctrl",'<input riot-value="{datetime}" onchange="{changeDate}" type="{\'datetime-local\'}"> <button class="{css.rmbtn}" onclick="{remove}">Remove</button> <button class="{css.rmbtn}" onclick="{dismiss}">Dismiss</button>',"",'class="{css.host}"',function(t){new r.ItemCtrl(this,t)});var s=n(8);n(1).tag2("item-view",'<div class="{css.date}">{str.date}</div> <div class="{css.time}">{str.time}</div> <div class="{css.time}">{str.z}</div> <div class="{css.ext}"></div> <div class="{css.zone}">{str.zone}</div>',"",'class="{css.host}"',function(t){new s.ItemView(this,t)});var a=n(7);n(1).tag2("time-item",'<item-ctrl time="{time}" at="{opts.at}" ref="ctrl" if="{showCtrl}"></item-ctrl> <item-view time="{time}" at="{opts.at}" onclick="{removable}"></item-view>',"",'class="{css.host}"',function(t){new a.TimeItem(this,t)});var c=n(6);n(1).tag2("time-list",'<time-item each="{time, i in list}" on-event="{itemEvent}" time="{time}" at="{at}"></time-item>',"",'class="{css.host}"',function(t){new c.TimeList(this,t)});var u=n(5);n(1).tag2("app",'<h1 class="{css.title}">Timezones</h1> <div class="{css.wrap}"> <timezones-input on-select="{addTimezone}"></timezones-input> <time-list list="{times}" on-event="{listEvent}"></time-list> </div>',"",'class="{css.host}"',function(t){new u.App(this)})},,,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchList=void 0;var o=n(3),i=n(0);var r="watch-list",s=[];function a(t){s.find(function(e){return e&&e===t})||(s.push(t),i.Store.set(r,s))}e.WatchList=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(){if(!((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0)){var t=o.DateTime.local();a("Europe/London"),a(t.zoneName)}}(s=i.Store.get(r)||[]),this.times=s.map(function(t){return{zone:t}})}return t.prototype.add=function(t){a(t),this.times.push({zone:t})},t.prototype.remove=function(t){var e,n;e=t.zone,(n=s.indexOf(e))>=0&&(s.splice(n,1),i.Store.set(r,s));var o=this.times.indexOf(t);o>=0&&this.times.splice(o,1)},t}()},function(t,e){t.exports={host:{display:"flex",flexFlow:"column",width:"100%",height:"100%"},title:{textAlign:"center",color:"lightgray",fontFamily:"roboto, 'Sans serif'"},wrap:{display:"flex",flexFlow:"column",overflow:"hidden",width:"86%",margin:"2% 5% 5%",padding:"0 2%"}}},function(t,e){t.exports={host:{display:"inline-block",overflow:"auto",height:"100%",width:"100%"}}},function(t,e){t.exports={host:{position:"relative",border:"3px solid #bababa",borderRadius:"5px",margin:"20px auto",display:"block"}}},function(t,e){t.exports={host:{display:"flex",alignItems:"center"},date:{whiteSpace:"nowrap",flex:"1 1 0",fontFamily:"'roboto', 'sans serif'",fontSize:"30px",padding:"10px",fontWeight:"bold"},time:{whiteSpace:"nowrap",flex:"1 1 0",fontFamily:"'roboto mono', 'sans serif'",fontSize:"24px",padding:"10px",color:"#555"},ext:{flex:"15 1 auto",height:"40px"},zone:{whiteSpace:"nowrap",padding:"10px",flex:"1 1 0",fontFamily:"'roboto', 'sans serif'",fontSize:"24px"}}},function(t,e){t.exports={host:{fontFamily:"'roboto', 'sans serif'",position:"absolute",width:"100%",height:"100%",background:"rgba(255,255,255,0.7)",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},rmbtn:{fontFamily:"'roboto', 'sans serif'",background:"transparent",border:"none",padding:"15px",cursor:"pointer"},"rmbtn:hover":{background:"rgba(204,204,204,0.5)",textDecoration:"underline"},"rmbtn:focus":{outline:"none"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.fuseOpts={threshold:.2,distance:100,keys:[{name:"text",weight:.15},{name:"abbr",weight:.15},{name:"value",weight:.1},{name:"utc",weight:.6}]}},,function(t,e){t.exports={host:{width:"100%",display:"inline-block",position:"relative"},input:{border:"2px solid silver",borderRadius:"5px",padding:"5px",fontFamily:"roboto, 'Sans Serif'"},"input:focus":{outline:"none"}}},function(t,e){t.exports={host:{maxHeight:"300px",overflow:"auto",position:"absolute",left:"0",top:"100%",display:"block",background:"white",padding:"5px",borderRadius:"5px",border:"2px solid silver",boxShadow:"rgba(123,123,123,0.3) 4px 4px 9px",minWidth:"160px",marginTop:"2px",zIndex:"100"},item:{padding:"10px",borderBottom:"1px solid skyblue"},"item:hover":{background:"rgba(220,220,220,0.6)",cursor:"pointer"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=localStorage;e.Store=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.set=function(t,e){return o.setItem(t,JSON.stringify(e))},t.get=function(t){return JSON.parse(o.getItem(t)||"null")},t}()},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssInJs=function(t){var e=function(t){var e={};return Object.keys(t).forEach(function(n){var o=n.split(":"),i=t[n],r=t[o[0]]||{},s=o.length>2?"::"+o[1]:o.length>1?":"+o[1]:null;s&&(r[s]=i),e[o[0]]=r}),e}(t),n={};return Object.keys(e).forEach(function(t){n[t]=o.renderStyle(e[t])}),n};var o=new(n(46).Client)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var o=n(47);e.Tag=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=e,e.css=(0,o.cssInJs)(e.css||n)}},function(t,e,n){"use strict";var o,i=n(1),r=(o=i)&&o.__esModule?o:{default:o};n(13),r.default.mount("app")},function(t,e,n){n(49),t.exports=n(16)}]);